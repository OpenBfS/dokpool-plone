/*! For license information please see 0.bundle.6486dbd.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,i){var n,s;n=[i(0),i(41),i(43),i(63),i(54),i(55)],void 0===(s=function(t,e,i){"use strict";return e.extend({name:"select2",trigger:".pat-select2",parser:"mockup",defaults:{separator:","},initializeValues:function(){var e=this;e.options.initialValues&&(e.options.id=function(t){return t.id},e.options.initSelection=function(n,s){var o=[],a=n.val(),r=e.options.initialValues;"string"==typeof e.options.initialValues&&""!==e.options.initialValues&&("{"===e.options.initialValues[0]?r=JSON.parse(e.options.initialValues):(r={},t(e.options.initialValues.split(e.options.separator)).each((function(){var e=this.split(":"),i=t.trim(e[0]),n=t.trim(e[1]);r[i]=n})))),t(a.split(e.options.separator)).each((function(){var t=this;r[this]&&(t=r[this]),o.push({id:i.removeHTML(this),text:i.removeHTML(t)})})),s(o)})},initializeTags:function(){this.options.tags&&"string"==typeof this.options.tags&&("["===this.options.tags.substr(0,1)?this.options.tags=JSON.parse(this.options.tags):this.options.tags=this.options.tags.split(this.options.separator)),this.options.tags&&!this.options.allowNewItems&&(this.options.data=t.map(this.options.tags,(function(t,e){return{id:t,text:t}})),this.options.multiple=!0,delete this.options.tags)},initializeOrdering:function(){var e=this;if(e.options.orderable){var i=function(t,e){return t?t.text:void 0};e.options.formatSelection&&(i=e.options.formatSelection),e.options.formatSelection=function(n,s){return s.parents("li").drag("start",(function(i,n){return t(this).addClass("select2-choice-dragging"),e.$el.select2("onSortStart"),t.drop({tolerance:function(e,i,n){var s=e.pageY>n.top+n.height/2;return t.data(n.elem,"drop+reorder",s?"insertAfter":"insertBefore"),this.contains(n,[e.pageX,e.pageY])}}),t(this).clone().addClass("dragging").css({opacity:.75,position:"absolute"}).appendTo(document.body)})).drag((function(e,i){t(i.proxy).css({top:i.offsetY,left:i.offsetX});var n=i.drop[0],s=t.data(n||{},"drop+reorder");!n||n==i.current&&s==i.method||(t(this)[s](n),i.current=n,i.method=s,i.update())})).drag("end",(function(i,n){t(this).removeClass("select2-choice-dragging"),e.$el.select2("onSortEnd"),t(n.proxy).remove()})).drop("init",(function(t,e){return this!=e.drag})),i(n,s)}}},initializeSelect2:function(){this.options.formatResultCssClass=function(t){if(t.id)return"select2-option-"+t.id.toLowerCase().replace(/[ \:\)\(\[\]\{\}\_\+\=\&\*\%\#]/g,"-")},this.$el.select2(this.options),this.$select2=this.$el.parent().find(".select2-container"),this.$el.parent().off("close.plone-modal.patterns"),this.options.orderable&&this.$select2.addClass("select2-orderable")},init:function(){var e=this;if(e.options.allowNewItems=!e.options.hasOwnProperty("allowNewItems")||JSON.parse(e.options.allowNewItems),e.options.ajax||e.options.vocabularyUrl){e.options.vocabularyUrl&&(e.options.multiple=void 0===e.options.multiple||e.options.multiple,e.options.ajax=e.options.ajax||{},e.options.ajax.url=e.options.vocabularyUrl,e.options.initSelection=function(n,s){var o=[],a=n.val();t(a.split(e.options.separator)).each((function(){var t=i.removeHTML(this);o.push({id:t,text:t})})),s(o)});var n="";e.options.ajax=t.extend({quietMillis:300,data:function(t,e){return n=t,{query:t,page_limit:10,page:e}},results:function(s,o){var a=s.results;if(e.options.vocabularyUrl){var r=[];t.each(s.results,(function(t,e){r.push(e.id)})),a=[];var l=""===n||t.inArray(n,r)>=0;e.options.allowNewItems&&!l&&(n=i.removeHTML(n),a.push({id:n,text:n})),t.each(s.results,(function(t,e){a.push(e)}))}return{results:a}}},e.options.ajax)}else if(e.options.multiple&&e.$el.is("select")){var s=e.$el.val()||[],o=t.map(e.$el.find("option"),(function(e){return{text:t(e).html(),id:e.value}})),a=t('<input type="hidden" />');a.val(s.join(e.options.separator)),a.attr("class",e.$el.attr("class")),a.attr("name",e.$el.attr("name")),a.attr("id",e.$el.attr("id")),e.$orig=e.$el,e.$el.replaceWith(a),e.$el=a,e.options.data=o}e.initializeValues(),e.initializeTags(),e.initializeOrdering(),e.initializeSelect2()}})}.apply(e,n))||(t.exports=s)},17:function(t,e,i){var n,s;n=[i(0),i(1),i(41),i(64),i(2),i(91),i(43),i(42),i(65)],void 0===(s=function(t,e,i,n,s,o,a,r){"use strict";return i.extend({name:"plone-modal",trigger:".pat-plone-modal",parser:"mockup",createModal:null,$model:null,defaults:{width:"",height:"",margin:20,position:"center middle",triggers:[],zIndexSelector:".plone-modal-wrapper,.plone-modal-backdrop",backdrop:"body",backdropOptions:{zIndex:"1040",opacity:"0.85",className:"plone-modal-backdrop",classActiveName:"plone-backdrop-active",closeOnEsc:!0,closeOnClick:!0},title:null,titleSelector:"h1:first",buttons:'.formControls > input[type="submit"]',content:"#content",automaticallyAddButtonActions:!0,loadLinksWithinModal:!0,prependContent:".portalMessage",templateOptions:{className:"plone-modal fade",classDialog:"plone-modal-dialog",classModal:"plone-modal-content",classHeaderName:"plone-modal-header",classBodyName:"plone-modal-body",classFooterName:"plone-modal-footer",classWrapperName:"plone-modal-wrapper",classWrapperInnerName:"modal-wrapper-inner",classActiveName:"in",classPrependName:"",classContentName:"",template:'<div class="<%= options.className %>">  <div class="<%= options.classDialog %>">    <div class="<%= options.classModal %>">      <div class="<%= options.classHeaderName %>">        <a class="plone-modal-close">&times;</a>        <% if (title) { %><h2 class="plone-modal-title"><%= title %></h2><% } %>      </div>      <div class="<%= options.classBodyName %>">        <div class="<%= options.classPrependName %>"><%= prepend %></div>         <div class="<%= options.classContentName %>"><%= content %></div>      </div>      <div class="<%= options.classFooterName %>">         <% if (buttons) { %><%= buttons %><% } %>      </div>    </div>  </div></div>'},actions:{},actionOptions:{eventType:"click",disableAjaxFormSubmit:!1,target:null,ajaxUrl:null,modalFunction:null,isForm:!1,timeout:5e3,displayInModal:!0,reloadWindowOnClose:!0,error:".portalMessage.error",formFieldError:".field.error",onSuccess:null,onError:null,onFormError:null,onTimeout:null,redirectOnResponse:!1,redirectToUrl:function(t,e,i){var n;return(n=/<body.*data-view-url=[\"'](.*)[\"'].*/im.exec(e))&&n.length>1?n[1].split('"')[0]:(n=/<body.*data-base-url=[\"'](.*)[\"'].*/im.exec(e))&&n.length>1?n[1].split('"')[0]:(n=/<base.*href=[\"'](.*)[\"'].*/im.exec(e))&&n.length>1?n[1]:""}},routerOptions:{id:null,pathExp:null},form:function(i){var n=this,s=n.$modal;n.options.automaticallyAddButtonActions&&(i[n.options.buttons]={}),i.a={},t.each(i,(function(i,o){var a=e.union(e.keys(n.options.actionOptions),["templateOptions"]),r=t.extend(!0,{},n.options.actionOptions,e.pick(o,a));o.templateOptions=t.extend(!0,o.templateOptions,n.options.templateOptions);var l=e.union(e.keys(n.options.actionOptions),["actions","actionOptions"]),c=t.extend(!0,e.omit(o,l),n.options);t(i,t("."+o.templateOptions.classBodyName,s)).each((function(e){var i=t(this);i.on(r.eventType,(function(e){e.stopPropagation(),e.preventDefault(),n.loading.show(!1),null!==r.modalFunction?n[r.modalFunction]():t.nodeName(i[0],"input")||t.nodeName(i[0],"button")||!0===o.isForm?n.options.handleFormAction.apply(n,[i,r,c]):(null!==o.ajaxUrl||t.nodeName(i[0],"a"))&&n.options.handleLinkAction.apply(n,[i,r,c])}))}))}))},handleFormAction:function(e,i,n){var s,o,a=this,r={};if(r[e.attr("name")]=e.attr("value"),s=t.nodeName(e[0],"form")?e:e.parents("form:not(.disableAutoSubmit)"),o=null!==i.ajaxUrl?"function"==typeof i.ajaxUrl?i.ajaxUrl.apply(a,[e,i]):i.ajaxUrl:e.parents("form").attr("action"),i.disableAjaxFormSubmit)return e.attr("name")&&e.attr("value")&&s.append(t('<input type="hidden" name="'+e.attr("name")+'" value="'+e.attr("value")+'" />')),void s.trigger("submit");s.on("submit",(function(t){t.preventDefault()})),s.trigger("submit"),a.loading.show(!1),s.ajaxSubmit({timeout:i.timeout,data:r,url:o,error:function(t,e,n){a.loading.hide(),"timeout"===e&&i.onTimeout?i.onTimeout.apply(a,t,n):i.onError?i.onError(t,e,n):console.log("error happened do something"),a.emit("formActionError",[t,e,n])},success:function(s,o,r,l){a.loading.hide(),0===t(i.error,s).size()&&0===t(i.formFieldError,s).size()?!0!==i.redirectOnResponse?(i.onSuccess&&i.onSuccess(a,s,o,r,l),!0===i.displayInModal?a.redraw(s,n):(e.trigger("destroy.plone-modal.patterns"),i.reloadWindowOnClose&&a.reloadWindow()),a.emit("formActionSuccess",[s,o,r,l])):"function"==typeof i.redirectToUrl?window.parent.location.href=i.redirectToUrl.apply(a,[e,s,i]):window.parent.location.href=i.redirectToUrl:i.onFormError?i.onFormError(a,s,o,r,l):a.redraw(s,n)}})},handleLinkAction:function(e,i,n){var s,o=this;s=i.ajaxUrl?"function"==typeof i.ajaxUrl?i.ajaxUrl.apply(o,[e,i]):i.ajaxUrl:e.attr("href"),!1!==i.displayInModal?t.ajax({url:s}).fail((function(t,e,n){"timeout"===e&&i.onTimeout?i.onTimeout(o.$modal,t,n):i.onError?i.onError(t,e,n):window.alert(r("There was an error loading modal.")),o.emit("linkActionError",[t,e,n])})).done((function(t,e,s){o.redraw(t,n),i.onSuccess&&i.onSuccess(o,t,e,s),o.emit("linkActionSuccess",[t,e,s])})).always((function(){o.loading.hide()})):"_blank"===e.attr("target")?(window.open(s,"_blank"),o.loading.hide()):window.location=s},render:function(i){var n=this;if(n.emit("before-render"),n.$raw){var s=n.$raw.clone();t("input:checked",s).each((function(){this.setAttribute&&this.setAttribute("checked","checked")}));var o={title:"",prepend:"<div />",content:"",buttons:'<div class="pattern-modal-buttons"></div>',options:i.templateOptions};if(null===i.title){var a=t(i.titleSelector,s);o.title=a.html(),t(i.titleSelector,s).remove()}else o.title=i.title;i.prependContent&&(o.prepend=t("<div />").append(t(i.prependContent,s).clone()).html(),t(i.prependContent,s).remove()),i.content?o.content=t(i.content,s).html():o.content=s.html(),n.$modal=t(e.template(n.options.templateOptions.template)(o)),n.$modalDialog=t("> ."+n.options.templateOptions.classDialog,n.$modal),n.$modalContent=t("> ."+n.options.templateOptions.classModal,n.$modalDialog),t("form",n.$modal).on("keydown",(function(e){13===e.keyCode&&"TEXTAREA"!==e.target.nodeName&&(e.preventDefault(),t("input[type=submit], button[type=submit], button:not(type)",this).eq(0).trigger("click"))})),t(i.buttons,n.$modal).each((function(){var e=t(this);e.on("click",(function(t){t.stopPropagation(),t.preventDefault()})).clone().appendTo(t(".pattern-modal-buttons",n.$modal)).off("click").on("click",(function(t){t.stopPropagation(),t.preventDefault(),e.trigger("click")})),e.hide()})),n.emit("before-events-setup"),t(".plone-modal-header > a.plone-modal-close, .plone-modal-footer > a.plone-modal-close",n.$modal).off("click").on("click",(function(e){e.stopPropagation(),e.preventDefault(),t(e.target).trigger("destroy.plone-modal.patterns")})),i.form&&i.form.apply(n,[i.actions]),n.$modal.addClass(n.options.templateOptions.className).on("destroy.plone-modal.patterns",(function(t){t.stopPropagation(),n.hide()})).on("resize.plone-modal.patterns",(function(t){t.stopPropagation(),t.preventDefault(),n.positionModal()})).appendTo(n.$wrapperInner),n.options.loadLinksWithinModal&&n.$modal.on("click",(function(e){e.stopPropagation(),t.nodeName(e.target,"a")&&e.preventDefault(),n.$modal.trigger("modal-click")})),n.$modal.data("pattern-"+n.name,n),n.emit("after-render")}}},reloadWindow:function(){window.parent.location.reload()},init:function(){var e=this;e.options.loadLinksWithinModal=t.parseJSON(e.options.loadLinksWithinModal),null!==e.options.routerOptions.id&&o.addRoute("modal",e.options.routerOptions.id,(function(){this.show()}),e,e.options.routerOptions.pathExp,e.options.routerOptions.expReplace),!0===e.options.backdropOptions.closeOnEsc&&t(document).on("keydown",(function(t,i){e.$el.is("."+e.options.templateOptions.classActiveName)&&27===t.keyCode&&e.hide()})),t(window.parent).resize((function(){e.positionModal()})),e.options.triggers&&t.each(e.options.triggers,(function(i,n){var s=n.substring(0,n.indexOf(" ")),o=n.substring(n.indexOf(" "),n.length);t(o||e.$el).on(s,(function(t){t.stopPropagation(),t.preventDefault(),e.show()}))})),e.$el.is("a")&&(e.$el.attr("href")&&!e.options.image&&(e.options.target||"#"!==e.$el.attr("href").substr(0,1)||(e.options.target=e.$el.attr("href"),e.options.content=""),e.options.ajaxUrl||"#"===e.$el.attr("href").substr(0,1)||(e.options.ajaxUrl=function(){return e.$el.attr("href")})),e.$el.on("click",(function(t){t.stopPropagation(),t.preventDefault(),e.show()}))),e.initModal()},createAjaxModal:function(){var e=this;e.emit("before-ajax"),e.loading.show();var i=e.options.ajaxUrl;"function"==typeof i&&(i=i.apply(e,[e.options])),e.ajaxXHR=t.ajax({url:i,type:e.options.ajaxType}).done((function(i,n,s){e.ajaxXHR=void 0,e.$raw=t("<div />").append(t(a.parseBodyTag(i))),e.emit("after-ajax",e,n,s),e._show()})).fail((function(t,i,n){var s=e.options.actionOptions;"timeout"===i&&s.onTimeout?s.onTimeout(e.$modal,t,n):s.onError?s.onError(t,i,n):(window.alert(r("There was an error loading modal.")),e.hide()),e.emit("linkActionError",[t,i,n])})).always((function(){e.loading.hide()}))},createTargetModal:function(){this.$raw=t(this.options.target).clone(),this._show()},createBasicModal:function(){this.$raw=t("<div/>").html(this.$el.clone()),this._show()},createHtmlModal:function(){var e=t(this.options.html);this.$raw=e,this._show()},createImageModal:function(){this.$wrapper.addClass("image-modal");var e=this.$el.attr("href"),i=this.$el.attr("data-modal-srcset")||"",n=t.trim(this.$el.context.innerText)||"Image";this.$raw=t("<div><h1>"+n+'</h1><div id="content"><div class="modal-image"><img src="'+e+'" srcset="'+i+'" /></div></div></div>'),this._show()},initModal:function(){this.options.ajaxUrl?this.createModal=this.createAjaxModal:this.options.target?this.createModal=this.createTargetModal:this.options.html?this.createModal=this.createHtmlModal:this.options.image?this.createModal=this.createImageModal:this.createModal=this.createBasicModal},findPosition:function(t,e,i,n,s,o,a){var r,l,c,h,u={};return h=c=r=c="auto","left"===t?(c=i+"px",n>o&&(c="0px"),u.left=c):"right"===t?(h=i+"px",n>o&&(h="0px"),u.right=h,u.left="auto"):(c=o/2-n/2-i+"px",n>o&&(c="0px"),u.left=c),"top"===e?(r=i+"px",s>a&&(r="0px"),u.top=r):"bottom"===e?(l=i+"px",s>a&&(l="0px"),u.bottom=l,u.top="auto"):(r=a/2-s/2-i+"px",s>a&&(r="0px"),u.top=r),u},modalInitialized:function(){return null!==this.$modal&&void 0!==this.$modal},positionModal:function(){if(this.modalInitialized()){this.$modal.removeAttr("style"),this.$wrapper.parent().is("body")&&this.$wrapper.height(t(window.parent).height());var e="function"==typeof this.options.margin?this.options.margin():this.options.margin;this.$modal.css({position:"absolute",padding:e}),this.$modalDialog.css({margin:"0",padding:"0",width:this.options.width,height:this.options.height}),this.$modalContent.css({width:this.options.width});var i=this.options.position.split(" "),n=i[0],s=i[1],o=this.$modalDialog.outerWidth(!0),a=this.$modalDialog.outerHeight(!0),r=this.$wrapperInner.width(),l=this.$wrapperInner.height(),c=this.findPosition(n,s,e,o,a,r,l);for(var h in c)this.$modalDialog.css(h,c[h])}},render:function(t){this.emit("render"),this.options.render.apply(this,[t]),this.emit("rendered")},show:function(){this.backdrop=this.createBackdrop(),this.createModal()},createBackdrop:function(){var e=this,i=new n(e.$el.parents(e.options.backdrop),e.options.backdropOptions),s=1041;return t(e.options.zIndexSelector).each((function(){s=Math.max(s,parseInt(t(this).css("zIndex"))+1||1041)})),e.$wrapper=t("<div/>").hide().css({"z-index":s,"overflow-y":"auto",position:"fixed",height:"100%",width:"100%",bottom:"0",left:"0",right:"0",top:"0"}).addClass(e.options.templateOptions.classWrapperName).insertBefore(i.$backdrop).on("click",(function(t){e.options.backdropOptions.closeOnClick&&(t.stopPropagation(),t.preventDefault(),i.hide())})),i.on("hidden",(function(t){void 0!==e.$modal&&e.$modal.hasClass(e.options.templateOptions.classActiveName)&&e.hide()})),e.loading=new a.Loading({backdrop:i}),e.$wrapperInner=t("<div/>").addClass(e.options.classWrapperInnerName).css({position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}).appendTo(e.$wrapper),i},_show:function(){var e=this;e.render.apply(e,[e.options]),e.emit("show"),e.backdrop.show(),e.$wrapper.show(),e.loading.hide(),e.$el.addClass(e.options.templateOptions.classActiveName),e.$modal.addClass(e.options.templateOptions.classActiveName),s.scan(e.$modal),e.positionModal(),t(window.parent).on("resize.plone-modal.patterns",(function(){e.positionModal()})),t("body").addClass("plone-modal-open"),e.emit("shown")},hide:function(){this.ajaxXHR&&this.ajaxXHR.abort(),this.emit("hide"),this._suppressHide&&!window.confirm(this._suppressHide)||(this.loading.hide(),this.$el.removeClass(this.options.templateOptions.classActiveName),void 0!==this.$modal&&(this.$modal.remove(),this.initModal()),this.$wrapper.remove(),t(".plone-modal",t("body")).size()<1&&(this._suppressHide=void 0,this.backdrop.hide(),t("body").removeClass("plone-modal-open"),t(window.parent).off("resize.plone-modal.patterns")),this.emit("hidden"))},redraw:function(e,i){this.emit("beforeDraw"),this.$modal.remove(),this.$raw=t("<div />").append(t(a.parseBodyTag(e))),this.render.apply(this,[i||this.options]),this.$modal.addClass(this.options.templateOptions.classActiveName),this.positionModal(),s.scan(this.$modal),this.emit("afterDraw")}})}.apply(e,n))||(t.exports=s)},41:function(t,e,i){var n,s;n=[i(0),i(2),i(88),i(4)],void 0===(s=function(t,e,i,n){"use strict";var s=n.getLogger("Patternslib Base"),o=function(t,s,o){var a=this.prototype.name,r=n.getLogger("pat."+a),l=t.data("pattern-"+a);if(void 0===l&&e.patterns[a]){try{s="mockup"===this.prototype.parser?i.getOptions(t,a,s):s,l=new e.patterns[a](t,s,o)}catch(t){r.error("Failed while initializing '"+a+"' pattern.",t)}t.data("pattern-"+a,l)}return l},a=function(e,i,n){this.$el=e,this.options=t.extend(!0,{},this.defaults||{},i||{}),this.init(e,i,n),this.emit("init")};return a.prototype={constructor:a,on:function(t,e){this.$el.on(t+"."+this.name+".patterns",e)},emit:function(t,e){void 0===e&&(e=[]),this.$el.trigger(t+"."+this.name+".patterns",e)}},a.extend=function(i){var n,r=this;if(!i)throw new Error("Pattern configuration properties required when calling Base.extend");(n=i.hasOwnProperty("constructor")?i.constructor:function(){r.apply(this,arguments)}).extend=a.extend,n.init=o,n.jquery_plugin=!0,n.trigger=i.trigger;var l=function(){this.constructor=n};return l.prototype=r.prototype,n.prototype=new l,t.extend(!0,n.prototype,i),n.__super__=r.prototype,i.name?i.trigger?e.register(n,i.name):s.warn("The pattern '"+i.name+"' does not have a trigger attribute, it will not be registered."):s.warn("This pattern without a name attribute will not be registered!"),n},a}.apply(e,n))||(t.exports=s)},42:function(t,e,i){var n,s;n=[i(56)],void 0===(s=function(t){"use strict";var e=null;return function(i,n){if(null===e){var s=new t;s.loadCatalog("widgets"),e=s.MessageFactory("widgets")}return e(i,n)}}.apply(e,n))||(t.exports=s)},43:function(t,e,i){var n,s;i(0),i(0);n=[i(0)],void 0===(s=function(t){"use strict";var e=function(e){var i=this;i.className="plone-loader";return e||(e={}),i.options=t.extend({},{backdrop:null,zIndex:10005},e),i.init=function(){i.$el=t("."+i.className),0===i.$el.length&&(i.$el=t("<div><div></div></div>"),i.$el.addClass(i.className).hide().appendTo("body"))},i.show=function(e){i.init(),i.$el.show();var n=i.options.zIndex;"function"==typeof n?n=Math.max(n(),10005):(n=10005,t(".plone-modal-wrapper,.plone-modal-backdrop").each((function(){n=Math.max(n,t(this).css("zIndex")||10005)})),n+=1),i.$el.css("zIndex",n),void 0===e&&(e=!0),i.options.backdrop&&(i.options.backdrop.closeOnClick=e,i.options.backdrop.closeOnEsc=e,i.options.backdrop.init(),i.options.backdrop.show())},i.hide=function(){i.init(),i.$el.hide()},i},i=function(t){return void 0===t&&(t="id"),t+Math.floor(65536*(1+Math.random())).toString(16).substring(1)},n={get:function(t){if(window.localStorage){var e=window.localStorage[t];return"string"==typeof e?JSON.parse(e):void 0}},set:function(t,e){window.localStorage&&(window.localStorage[t]=JSON.stringify(e))}};return{bool:function(e){return"string"==typeof e&&(e=t.trim(e).toLowerCase()),-1===["false",!1,"0",0,"",void 0,null].indexOf(e)},escapeHTML:function(e){return t("<div/>").text(e).html()},removeHTML:function(t){return t.replace(/<[^>]+>/gi,"")},featureSupport:{dragAndDrop:function(){return"draggable"in document.createElement("span")},fileApi:function(){return"undefined"!=typeof FileReader},history:function(){return!(!window.history||!window.history.pushState)}},generateId:i,getAuthenticator:function(){var e=t('input[name="_authenticator"]');return 0===e.length?(e=t('a[href*="_authenticator"]')).length>0?e.attr("href").split("_authenticator=")[1]:"":e.val()},getWindow:function(){var t=window;return t.parent!==window&&(t=t.parent),t},Loading:e,loading:new e,parseBodyTag:function(e){return t(/<body[^>]*>[^]*<\/body>/im.exec(e)[0].replace("<body","<div").replace("</body>","</div>")).eq(0).html()},QueryHelper:function(e){var i=this;return i.options=t.extend({},{pattern:null,vocabularyUrl:null,searchParam:"SearchableText",pathOperator:"plone.app.querystring.operation.string.path",attributes:["UID","Title","Description","getURL","portal_type"],batchSize:10,baseCriteria:[],sort_on:"is_folderish",sort_order:"reverse",pathDepth:1},e),i.pattern=i.options.pattern,void 0!==i.pattern&&null!==i.pattern||(i.pattern={browsing:!1,basePath:"/"}),i.options.url&&!i.options.vocabularyUrl?i.options.vocabularyUrl=i.options.url:i.pattern.vocabularyUrl&&(i.options.vocabularyUrl=i.pattern.vocabularyUrl),i.valid=Boolean(i.options.vocabularyUrl),i.getBatch=function(t){return{page:t||1,size:i.options.batchSize}},i.getCurrentPath=function(){var t,e=i.pattern;"function"==typeof(t=i.currentPath?i.currentPath:e.currentPath)&&(t=t());var n=t;return n||(n=e.basePath?e.basePath:e.options.basePath?e.options.basePath:"/"),n},i.getCriterias=function(e,n){void 0===n&&(n={});var s=[];return(n=t.extend({},{useBaseCriteria:!0,additionalCriterias:[]},n)).useBaseCriteria&&(s=i.options.baseCriteria.slice(0)),e&&(e+="*",s.push({i:i.options.searchParam,o:"plone.app.querystring.operation.string.contains",v:e})),n.searchPath?s.push({i:"path",o:i.options.pathOperator,v:n.searchPath+"::"+i.options.pathDepth}):i.pattern.browsing&&s.push({i:"path",o:i.options.pathOperator,v:i.getCurrentPath()+"::"+i.options.pathDepth}),s=s.concat(n.additionalCriterias)},i.getQueryData=function(t,e){var n={query:JSON.stringify({criteria:i.getCriterias(t),sort_on:i.options.sort_on,sort_order:i.options.sort_order}),attributes:JSON.stringify(i.options.attributes)};return e&&(n.batch=JSON.stringify(i.getBatch(e))),n},i.getUrl=function(){var e=i.options.vocabularyUrl;return-1===e.indexOf("?")?e+="?":e+="&",e+t.param(i.getQueryData())},i.selectAjax=function(){return{url:i.options.vocabularyUrl,dataType:"JSON",quietMillis:100,data:function(t,e){return i.getQueryData(t,e)},results:function(t,e){var i=10*e<t.total;return{results:t.results,more:i}}}},i.search=function(e,n,s,o,a,r){void 0===a&&(a=!0),void 0===r&&(r="GET");var l=[];a&&(l=i.options.baseCriteria.slice(0)),l.push({i:e,o:n,v:s});var c={query:JSON.stringify({criteria:l}),attributes:JSON.stringify(i.options.attributes)};t.ajax({url:i.options.vocabularyUrl,dataType:"JSON",data:c,type:r,success:o})},i},setId:function(t,e){void 0===e&&(e="id");var n=t.attr("id");return n=void 0===n?i(e):n.replace(/\./g,"-"),t.attr("id",n),n},storage:n}}.apply(e,n))||(t.exports=s)},46:function(t,e,i){var n,s,o;o=this,n=[i(1),i(0),e],void 0===(s=function(t,e,i){o.Backbone=function(t,e,i,n){var s=t.Backbone,o=[],a=o.slice;e.VERSION="1.1.2",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var r=e.Events={on:function(t,e,i){return c(this,"on",t,[e,i])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:i,ctx:i||this}),this):this},once:function(t,e,n){if(!c(this,"once",t,[e,n])||!e)return this;var s=this,o=i.once((function(){s.off(t,o),e.apply(this,arguments)}));return o._callback=e,this.on(t,o,n)},off:function(t,e,n){var s,o,a,r,l,h,u,d;if(!this._events||!c(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(l=0,h=(r=t?[t]:i.keys(this._events)).length;l<h;l++)if(t=r[l],a=this._events[t]){if(this._events[t]=s=[],e||n)for(u=0,d=a.length;u<d;u++)o=a[u],(e&&e!==o.callback&&e!==o.callback._callback||n&&n!==o.context)&&s.push(o);s.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!c(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&h(i,e),n&&h(n,arguments),this},stopListening:function(t,e,n){var s=this._listeningTo;if(!s)return this;var o=!e&&!n;for(var a in n||"object"!=typeof e||(n=this),t&&((s={})[t._listenId]=t),s)(t=s[a]).off(e,n,this),(o||i.isEmpty(t._events))&&delete this._listeningTo[a];return this}},l=/\s+/,c=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)t[e].apply(t,[s,i[s]].concat(n));return!1}if(l.test(i)){for(var o=i.split(l),a=0,r=o.length;a<r;a++)t[e].apply(t,[o[a]].concat(n));return!1}return!0},h=function(t,e){var i,n=-1,s=t.length,o=e[0],a=e[1],r=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o,a,r);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};i.each({listenTo:"on",listenToOnce:"once"},(function(t,e){r[e]=function(e,n,s){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=i.uniqueId("l"))]=e,s||"object"!=typeof n||(s=this),e[t](n,s,this),this}})),r.bind=r.on,r.unbind=r.off,i.extend(e,r);var u=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(u.prototype,r,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var s,o,a,r,l,c,h,u;if(null==t)return this;if("object"==typeof t?(o=t,n=e):(o={})[t]=e,n||(n={}),!this._validate(o,n))return!1;for(s in a=n.unset,l=n.silent,r=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=i.clone(this.attributes),this.changed={}),u=this.attributes,h=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]),o)e=o[s],i.isEqual(u[s],e)||r.push(s),i.isEqual(h[s],e)?delete this.changed[s]:this.changed[s]=e,a?delete u[s]:u[s]=e;if(!l){r.length&&(this._pending=n);for(var d=0,p=r.length;d<p;d++)this.trigger("change:"+r[d],this,u[r[d]],n)}if(c)return this;if(!l)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(var o in t)i.isEqual(s[o],e=t[o])||((n||(n={}))[o]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){void 0===(t=t?i.clone(t):{}).parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){if(!e.set(e.parse(i,t),t))return!1;n&&n(e,i,t),e.trigger("sync",e,i,t)},M(this,t),this.sync("read",this,t)},save:function(t,e,n){var s,o,a,r=this.attributes;if(null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=i.extend({},r,s)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(t){l.attributes=r;var e=l.parse(t,n);if(n.wait&&(e=i.extend(s||{},e)),i.isObject(e)&&!l.set(e,n))return!1;c&&c(l,t,n),l.trigger("sync",l,t,n)},M(this,n),"patch"==(o=this.isNew()?"create":n.patch?"patch":"update")&&(n.attrs=s),a=this.sync(o,this,n),s&&n.wait&&(this.attributes=r),a},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&s(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;M(this,t);var o=this.sync("delete",this,t);return t.wait||s(),o},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||N();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),i.each(["keys","values","pairs","invert","pick","omit"],(function(t){u.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),i[t].apply(i,e)}}));var d=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},p={add:!0,remove:!0,merge:!0},f={add:!0,remove:!1};i.extend(d.prototype,r,{model:u,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,f))},remove:function(t,e){var n,s,o,a,r=!i.isArray(t);for(e||(e={}),n=0,s=(t=r?[t]:i.clone(t)).length;n<s;n++)(a=t[n]=this.get(t[n]))&&(delete this._byId[a.id],delete this._byId[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,e.silent||(e.index=o,a.trigger("remove",a,this,e)),this._removeReference(a,e));return r?t[0]:t},set:function(t,e){(e=i.defaults({},e,p)).parse&&(t=this.parse(t,e));var n,s,o,a,r,l,c,h=!i.isArray(t);t=h?t?[t]:[]:i.clone(t);var d=e.at,f=this.model,g=this.comparator&&null==d&&!1!==e.sort,m=i.isString(this.comparator)?this.comparator:null,v=[],b=[],y={},w=e.add,x=e.merge,S=e.remove,C=!(g||!w||!S)&&[];for(n=0,s=t.length;n<s;n++){if(o=(r=t[n]||{})instanceof u?a=r:r[f.prototype.idAttribute||"id"],l=this.get(o))S&&(y[l.cid]=!0),x&&(r=r===a?a.attributes:r,e.parse&&(r=l.parse(r,e)),l.set(r,e),g&&!c&&l.hasChanged(m)&&(c=!0)),t[n]=l;else if(w){if(!(a=t[n]=this._prepareModel(r,e)))continue;v.push(a),this._addReference(a,e)}a=l||a,!C||!a.isNew()&&y[a.id]||C.push(a),y[a.id]=!0}if(S){for(n=0,s=this.length;n<s;++n)y[(a=this.models[n]).cid]||b.push(a);b.length&&this.remove(b,e)}if(v.length||C&&C.length)if(g&&(c=!0),this.length+=v.length,null!=d)for(n=0,s=v.length;n<s;n++)this.models.splice(d+n,0,v[n]);else{C&&(this.models.length=0);var T=C||v;for(n=0,s=T.length;n<s;n++)this.models.push(T[n])}if(c&&this.sort({silent:!0}),!e.silent){for(n=0,s=v.length;n<s;n++)(a=v[n]).trigger("add",a,this,e);(c||C&&C.length)&&this.trigger("sort",this,e)}return h?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,s=this.models.length;n<s;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return i.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"]((function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0}))},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){void 0===(t=t?i.clone(t):{}).parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},M(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?i.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,s=e.success;return e.success=function(t,i){e.wait&&n.add(t,e),s&&s(t,i,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof u)return t;(e=e?i.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}}),i.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],(function(t){d.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),i[t].apply(i,e)}})),i.each(["groupBy","countBy","sortBy","indexBy"],(function(t){d.prototype[t]=function(e,n){var s=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,s,n)}}));var g=e.View=function(t){this.cid=i.uniqueId("view"),t||(t={}),i.extend(this,i.pick(t,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},m=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];i.extend(g.prototype,r,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==i&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=i.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(i.isFunction(n)||(n=this[t[e]]),n){var s=e.match(m),o=s[1],a=s[2];n=i.bind(n,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,n):this.$el.on(o,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className"));var n=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,s){var o=y[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||N()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",s.emulateJSON&&(a.data._method=o);var r=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),r)return r.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1),"PATCH"===a.type&&b&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,l,s),l};var b=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),y={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var w=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},x=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,C=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(w.prototype,r,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var o=this;return e.history.route(t,(function(i){var a=o._extractParameters(t,i);o.execute(s,a),o.trigger.apply(o,["route:"+n].concat(a)),o.trigger("route",n,a),e.history.trigger("route",o,n,a)})),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(T,"\\$&").replace(x,"(?:$1)?").replace(S,(function(t,e){return e?t:"([^/?]+)"})).replace(C,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,(function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null}))}});var k=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,A=/msie [\w.]+/,_=/\/$/,I=/#.*$/;k.started=!1,i.extend(k.prototype,r,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(_,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(E,"")},start:function(t){if(k.started)throw new Error("Backbone.history has already been started");k.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),s=document.documentMode,o=A.exec(navigator.userAgent.toLowerCase())&&(!s||s<=7);if(this.root=("/"+this.root+"/").replace(O,"/"),o&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var r=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&r.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),k.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),i.any(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!k.started)return!1;e&&!0!==e||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(I,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new k,u.extend=d.extend=w.extend=g.extend=k.extend=function(t,e){var n,s=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e);var o=function(){this.constructor=n};return o.prototype=s.prototype,n.prototype=new o,t&&i.extend(n.prototype,t),n.__super__=s.prototype,n};var N=function(){throw new Error('A "url" property or function must be specified')},M=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}};return e}(o,i,t,e)}.apply(e,n))||(t.exports=s)},54:function(t,e,i){var n=i(0);!function(t){t.fn.drag=function(e,i,n){var s="string"==typeof e?e:"",o=t.isFunction(e)?e:t.isFunction(i)?i:null;return 0!==s.indexOf("drag")&&(s="drag"+s),n=(e==o?i:n)||{},o?this.bind(s,n,o):this.trigger(s)};var e=t.event,i=e.special,n=i.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var i=t.data(this,n.datakey),s=e.data||{};i.related+=1,t.each(n.defaults,(function(t,e){void 0!==s[t]&&(i[t]=s[t])}))},remove:function(){t.data(this,n.datakey).related-=1},setup:function(){if(!t.data(this,n.datakey)){var i=t.extend({related:0},n.defaults);t.data(this,n.datakey,i),e.add(this,"touchstart mousedown",n.init,i),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){(t.data(this,n.datakey)||{}).related||(t.removeData(this,n.datakey),e.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(s){if(!n.touched){var o,a=s.data;if(!(0!=s.which&&a.which>0&&s.which!=a.which)&&!t(s.target).is(a.not)&&(!a.handle||t(s.target).closest(a.handle,s.currentTarget).length)&&(n.touched="touchstart"==s.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[n.interaction(this,a)],a.target=s.target,a.pageX=s.pageX,a.pageY=s.pageY,a.dragging=null,o=n.hijack(s,"draginit",a),a.propagates))return(o=n.flatten(o))&&o.length&&(a.interactions=[],t.each(o,(function(){a.interactions.push(n.interaction(this,a))}))),a.propagates=a.interactions.length,!1!==a.drop&&i.drop&&i.drop.handler(s,a),n.textselect(!1),n.touched?e.add(n.touched,"touchmove touchend",n.handler,a):e.add(document,"mousemove mouseup",n.handler,a),!(!n.touched||a.live)&&void 0}},interaction:function(e,i){var s=t(e)[i.relative?"position":"offset"]()||{top:0,left:0};return{drag:e,callback:new n.callback,droppable:[],offset:s}},handler:function(s){var o=s.data;switch(s.type){case!o.dragging&&"touchmove":s.preventDefault();case!o.dragging&&"mousemove":if(Math.pow(s.pageX-o.pageX,2)+Math.pow(s.pageY-o.pageY,2)<Math.pow(o.distance,2))break;s.target=o.target,n.hijack(s,"dragstart",o),o.propagates&&(o.dragging=!0);case"touchmove":s.preventDefault();case"mousemove":if(o.dragging){if(n.hijack(s,"drag",o),o.propagates){!1!==o.drop&&i.drop&&i.drop.handler(s,o);break}s.type="mouseup"}case"touchend":case"mouseup":default:n.touched?e.remove(n.touched,"touchmove touchend",n.handler):e.remove(document,"mousemove mouseup",n.handler),o.dragging&&(!1!==o.drop&&i.drop&&i.drop.handler(s,o),n.hijack(s,"dragend",o)),n.textselect(!0),!1===o.click&&o.dragging&&t.data(o.mousedown,"suppress.click",(new Date).getTime()+5),o.dragging=n.touched=!1}},hijack:function(i,s,o,a,r){if(o){var l,c,h,u={event:i.originalEvent,type:i.type},d=s.indexOf("drop")?"drag":"drop",p=a||0,f=isNaN(a)?o.interactions.length:a;i.type=s,i.originalEvent=null,o.results=[];do{if(c=o.interactions[p]){if("dragend"!==s&&c.cancelled)continue;h=n.properties(i,o,c),c.results=[],t(r||c[d]||o.droppable).each((function(a,r){if(h.target=r,i.isPropagationStopped=function(){return!1},!1===(l=r?e.dispatch.call(r,i,h):null)?("drag"==d&&(c.cancelled=!0,o.propagates-=1),"drop"==s&&(c[d][a]=null)):"dropinit"==s&&c.droppable.push(n.element(l)||r),"dragstart"==s&&(c.proxy=t(n.element(l)||c.drag)[0]),c.results.push(l),delete i.result,"dropinit"!==s)return l})),o.results[p]=n.flatten(c.results),"dropinit"==s&&(c.droppable=n.flatten(c.droppable)),"dragstart"!=s||c.cancelled||h.update()}}while(++p<f);return i.type=u.type,i.originalEvent=u.event,n.flatten(o.results)}},properties:function(t,e,i){var s=i.callback;return s.drag=i.drag,s.proxy=i.proxy||i.drag,s.startX=e.pageX,s.startY=e.pageY,s.deltaX=t.pageX-e.pageX,s.deltaY=t.pageY-e.pageY,s.originalX=i.offset.left,s.originalY=i.offset.top,s.offsetX=s.originalX+s.deltaX,s.offsetY=s.originalY+s.deltaY,s.drop=n.flatten((i.drop||[]).slice()),s.available=n.flatten((i.droppable||[]).slice()),s},element:function(t){if(t&&(t.jquery||1==t.nodeType))return t},flatten:function(e){return t.map(e,(function(e){return e&&e.jquery?t.makeArray(e):e&&e.length?n.flatten(e):e}))},textselect:function(e){t(document)[e?"unbind":"bind"]("selectstart",n.dontstart).css("MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}};n.callback.prototype={update:function(){i.drop&&this.available.length&&t.each(this.available,(function(t){i.drop.locate(this,t)}))}};var s=e.dispatch;e.dispatch=function(e){if(!(t.data(this,"suppress."+e.type)-(new Date).getTime()>0))return s.apply(this,arguments);t.removeData(this,"suppress."+e.type)};var o=e.fixHooks.touchstart=e.fixHooks.touchmove=e.fixHooks.touchend=e.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(e,i){if(i){var n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0]||null;n&&t.each(o.props,(function(t,i){e[i]=n[i]}))}return e}}}(n),t.exports=n.drag},55:function(t,e,i){var n=i(0);!function(t){t.fn.drop=function(e,i,n){var s="string"==typeof e?e:"",o=t.isFunction(e)?e:t.isFunction(i)?i:null;return 0!==s.indexOf("drop")&&(s="drop"+s),n=(e==o?i:n)||{},o?this.bind(s,n,o):this.trigger(s)},t.drop=function(e){e=e||{},i.multi=!0===e.multi?1/0:!1===e.multi?1:isNaN(e.multi)?i.multi:e.multi,i.delay=e.delay||i.delay,i.tolerance=t.isFunction(e.tolerance)?e.tolerance:null===e.tolerance?null:i.tolerance,i.mode=e.mode||i.mode||"intersect"};var e=t.event.special,i=t.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(e){t.data(this,i.datakey).related+=1},remove:function(){t.data(this,i.datakey).related-=1},setup:function(){if(!t.data(this,i.datakey)){t.data(this,i.datakey,{related:0,active:[],anyactive:0,winner:0,location:{}}),i.targets.push(this)}},teardown:function(){if(!(t.data(this,i.datakey)||{}).related){t.removeData(this,i.datakey);var e=this;i.targets=t.grep(i.targets,(function(t){return t!==e}))}},handler:function(n,s){var o;if(s)switch(n.type){case"mousedown":case"touchstart":o=t(i.targets),"string"==typeof s.drop&&(o=o.filter(s.drop)),o.each((function(){var e=t.data(this,i.datakey);e.active=[],e.anyactive=0,e.winner=0})),s.droppable=o,e.drag.hijack(n,"dropinit",s);break;case"mousemove":case"touchmove":i.event=n,i.timer||i.tolerate(s);break;case"mouseup":case"touchend":i.timer=clearTimeout(i.timer),s.propagates&&(e.drag.hijack(n,"drop",s),e.drag.hijack(n,"dropend",s))}},locate:function(e,n){var s=t.data(e,i.datakey),o=t(e),a=o.offset()||{},r=o.outerHeight(),l=o.outerWidth(),c={elem:e,width:l,height:r,top:a.top,left:a.left,right:a.left+l,bottom:a.top+r};return s&&(s.location=c,s.index=n,s.elem=e),c},contains:function(t,e){return(e[0]||e.left)>=t.left&&(e[0]||e.right)<=t.right&&(e[1]||e.top)>=t.top&&(e[1]||e.bottom)<=t.bottom},modes:{intersect:function(t,e,i){return this.contains(i,[t.pageX,t.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(t,e,i){return Math.max(0,Math.min(i.bottom,e.bottom)-Math.max(i.top,e.top))*Math.max(0,Math.min(i.right,e.right)-Math.max(i.left,e.left))},fit:function(t,e,i){return this.contains(i,e)?1:0},middle:function(t,e,i){return this.contains(i,[e.left+.5*e.width,e.top+.5*e.height])?1:0}},sort:function(t,e){return e.winner-t.winner||t.index-e.index},tolerate:function(n){var s,o,a,r,l,c,h,u,d=0,p=n.interactions.length,f=[i.event.pageX,i.event.pageY],g=i.tolerance||i.modes[i.mode];do{if(u=n.interactions[d]){if(!u)return;u.drop=[],l=[],c=u.droppable.length,g&&(a=i.locate(u.proxy)),s=0;do{if(h=u.droppable[s]){if(!(o=(r=t.data(h,i.datakey)).location))continue;r.winner=g?g.call(i,i.event,a,o):i.contains(o,f)?1:0,l.push(r)}}while(++s<c);l.sort(i.sort),s=0;do{(r=l[s])&&(r.winner&&u.drop.length<i.multi?(r.active[d]||r.anyactive||(!1!==e.drag.hijack(i.event,"dropstart",n,d,r.elem)[0]?(r.active[d]=1,r.anyactive+=1):r.winner=0),r.winner&&u.drop.push(r.elem)):r.active[d]&&1==r.anyactive&&(e.drag.hijack(i.event,"dropend",n,d,r.elem),r.active[d]=0,r.anyactive-=1))}while(++s<c)}}while(++d<p);i.last&&f[0]==i.last.pageX&&f[1]==i.last.pageY?delete i.timer:i.timer=setTimeout((function(){i.tolerate(n)}),i.delay),i.last=i.event}};e.dropinit=e.dropstart=e.dropend=i}(n),t.exports=n.drop},56:function(t,e,i){var n,s;n=[i(0)],void 0===(s=function(t){"use strict";return function(){var e=this;e.baseUrl=t("body").attr("data-i18ncatalogurl"),e.baseUrl||(e.baseUrl="/plonejsi18n"),e.currentLanguage=t("html").attr("lang")||"en",e.currentLanguage.split("-").length>1&&(e.currentLanguage=e.currentLanguage.split("-")[0]+"_"+e.currentLanguage.split("-")[1].toUpperCase()),e.storage=null,e.catalogs={},e.ttl=864e5,Date.now||(Date.now=function(){return(new Date).valueOf()});try{"localStorage"in window&&null!==window.localStorage&&"JSON"in window&&null!==window.JSON&&(e.storage=window.localStorage)}catch(t){}e.configure=function(t){for(var i in t)e[i]=t[i]},e._setCatalog=function(t,i,n){t in e.catalogs?e.catalogs[t][i]=n:(e.catalogs[t]={},e.catalogs[t][i]=n)},e._storeCatalog=function(t,i,n){var s=t+"-"+i;null!==e.storage&&null!==n&&(e.storage.setItem(s,JSON.stringify(n)),e.storage.setItem(s+"-updated",Date.now()))},e.getUrl=function(t,i){return e.baseUrl+"?domain="+t+"&language="+i},e.loadCatalog=function(i,n){if(void 0===n&&(n=e.currentLanguage),null!==e.storage){var s=i+"-"+n;if(s in e.storage&&Date.now()-parseInt(e.storage.getItem(s+"-updated"),10)<e.ttl){var o=JSON.parse(e.storage.getItem(s));return void e._setCatalog(i,n,o)}}t.getJSON(e.getUrl(i,n),(function(t){null!==t&&(e._setCatalog(i,n,t),e._storeCatalog(i,n,t))}))},e.MessageFactory=function(t,i){return i=i||e.currentLanguage,function(n,s){var o,a,r;if(o=t in e.catalogs&&i in e.catalogs[t]&&n in e.catalogs[t][i]?e.catalogs[t][i][n]:n,s)for(r in s)s.hasOwnProperty(r)&&(a=new RegExp("\\$\\{"+r+"\\}","g"),o=o.replace(a,s[r]));return o}}}}.apply(e,n))||(t.exports=s)},63:function(t,e,i){var n,s=i(0);void 0===(n=s).fn.each2&&n.extend(n.fn,{each2:function(t){for(var e=n([0]),i=-1,s=this.length;++i<s&&(e.context=e[0]=this[i])&&!1!==t.call(e[0],i,e););return this}}),function(t,e){"use strict";function i(e){var i=t(document.createTextNode(""));e.before(i),i.before(e),i.remove()}function n(t){return t.replace(/[^\u0000-\u007E]/g,(function(t){return D[t]||t}))}function s(t,e){for(var i=0,n=e.length;n>i;i+=1)if(o(t,e[i]))return i;return-1}function o(t,i){return t===i||t!==e&&i!==e&&(null!==t&&null!==i&&(t.constructor===String?t+""==i+"":i.constructor===String&&i+""==t+""))}function a(t,e,i){var n,s,o;if(null===t||t.length<1)return[];for(s=0,o=(n=t.split(e)).length;o>s;s+=1)n[s]=i(n[s]);return n}function r(t){return t.outerWidth(!1)-t.width()}function l(i){var n="keyup-change-value";i.on("keydown",(function(){t.data(i,n)===e&&t.data(i,n,i.val())})),i.on("keyup",(function(){var s=t.data(i,n);s!==e&&i.val()!==s&&(t.removeData(i,n),i.trigger("keyup-change"))}))}function c(i){i.on("mousemove",(function(i){var n=M;(n===e||n.x!==i.pageX||n.y!==i.pageY)&&t(i.target).trigger("mousemove-filtered",i)}))}function h(t,i,n){var s;return n=n||e,function(){var e=arguments;window.clearTimeout(s),s=window.setTimeout((function(){i.apply(n,e)}),t)}}function u(e){var i=0,n=0;if("selectionStart"in(e=t(e)[0]))i=e.selectionStart,n=e.selectionEnd-i;else if("selection"in document){e.focus();var s=document.selection.createRange();n=document.selection.createRange().text.length,s.moveStart("character",-e.value.length),i=s.text.length-n}return{offset:i,length:n}}function d(t){t.preventDefault(),t.stopPropagation()}function p(e){if(!_){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);(_=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),t(document.body).append(_)}return _.text(e.val()),_.width()}function f(e,i,n){var s,o,a=[];(s=t.trim(e.attr("class")))&&t((s=""+s).split(/\s+/)).each2((function(){0===this.indexOf("select2-")&&a.push(this)})),(s=t.trim(i.attr("class")))&&t((s=""+s).split(/\s+/)).each2((function(){0!==this.indexOf("select2-")&&((o=n(this))&&a.push(o))})),e.attr("class",a.join(" "))}function g(t,e,i,s){var o=n(t.toUpperCase()).indexOf(n(e.toUpperCase())),a=e.length;return 0>o?void i.push(s(t)):(i.push(s(t.substring(0,o))),i.push("<span class='select2-match'>"),i.push(s(t.substring(o,o+a))),i.push("</span>"),void i.push(s(t.substring(o+a,t.length))))}function m(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,(function(t){return e[t]}))}function v(i){var n,s=null,o=i.quietMillis||100,a=i.url,r=this;return function(l){window.clearTimeout(n),n=window.setTimeout((function(){var n=i.data,o=a,c=i.transport||t.fn.select2.ajaxDefaults.transport,h={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},u=t.extend({},t.fn.select2.ajaxDefaults.params,h);n=n?n.call(r,l.term,l.page,l.context):null,o="function"==typeof o?o.call(r,l.term,l.page,l.context):o,s&&"function"==typeof s.abort&&s.abort(),i.params&&(t.isFunction(i.params)?t.extend(u,i.params.call(r)):t.extend(u,i.params)),t.extend(u,{url:o,dataType:i.dataType,data:n,success:function(t){var e=i.results(t,l.page,l);l.callback(e)},error:function(t,e,i){var n={hasError:!0,jqXHR:t,textStatus:e,errorThrown:i};l.callback(n)}}),s=c.call(r,u)}),o)}}function b(e){var i,n,s=e,o=function(t){return""+t.text};t.isArray(s)&&(s={results:n=s}),!1===t.isFunction(s)&&(n=s,s=function(){return n});var a=s();return a.text&&(o=a.text,t.isFunction(o)||(i=a.text,o=function(t){return t[i]})),function(e){var i,n=e.term,a={results:[]};return""===n?void e.callback(s()):(i=function(s,a){var r,l;if((s=s[0]).children){for(l in r={},s)s.hasOwnProperty(l)&&(r[l]=s[l]);r.children=[],t(s.children).each2((function(t,e){i(e,r.children)})),(r.children.length||e.matcher(n,o(r),s))&&a.push(r)}else e.matcher(n,o(s),s)&&a.push(s)},t(s().results).each2((function(t,e){i(e,a.results)})),void e.callback(a))}}function y(i){var n=t.isFunction(i);return function(s){var o=s.term,a={results:[]},r=n?i(s):i;t.isArray(r)&&(t(r).each((function(){var t=this.text!==e,i=t?this.text:this;(""===o||s.matcher(o,i))&&a.results.push(t?this:{id:this,text:this})})),s.callback(a))}}function w(e,i){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(i+" must be a string, function, or falsy value")}function x(e,i){if(t.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return e.apply(i,n)}return e}function S(e){var i=0;return t.each(e,(function(t,e){e.children?i+=S(e.children):i++})),i}function C(){var e=this;t.each(arguments,(function(t,i){e[i].remove(),e[i]=null}))}function T(e,i){var n=function(){};return(n.prototype=new e).constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var k,E,O,A,_,I,N,M={x:0,y:0},P={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case P.LEFT:case P.RIGHT:case P.UP:case P.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case P.SHIFT:case P.CTRL:case P.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return(t=t.which?t.which:t)>=112&&123>=t}},j="<div class='select2-measure-scrollbar'></div>",D={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};I=t(document),A=function(){var t=1;return function(){return t++}}(),k=T(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,o,a=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+A()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=t(document.body),f(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(x(i.containerCss,this.opts.element)),this.container.addClass(x(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",d),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),f(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",d),this.results=n=this.container.find(a),this.search=o=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",d),c(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind((function(t){this._touchEvent=!0,this.highlightUnderEvent(t)}))),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind((function(t){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}))),function(t,e){var i=h(t,(function(t){e.trigger("scroll-debounced",t)}));e.on("scroll",(function(t){s(t.target,e.get())>=0&&i(t)}))}(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",(function(t){t.stopPropagation()})),t(this.dropdown).on("change",".select2-input",(function(t){t.stopPropagation()})),t.fn.mousewheel&&n.mousewheel((function(t,e,i,s){var o=n.scrollTop();s>0&&0>=o-s?(n.scrollTop(0),d(t)):0>s&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),d(t))})),l(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",(function(){o.addClass("select2-focused")})),o.on("blur",(function(){o.removeClass("select2-focused")})),this.dropdown.on("mouseup",a,this.bind((function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))}))),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",(function(t){t.stopPropagation()})),this.lastSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var r=i.element.prop("disabled");r===e&&(r=!1),this.enable(!r);var u=i.element.prop("readonly");u===e&&(u=!1),this.readonly(u),N=N||function(){var e=t(j);e.appendTo(document.body);var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,i=t.data("select2"),n=this;this.close(),t.length&&t[0].detachEvent&&n._sync&&t.each((function(){n._sync&&this.detachEvent("onpropertychange",n._sync)})),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==e&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),t.removeData("select2").off(".select2"),t.is("input[type='hidden']")?t.css("display",""):(t.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())),C.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:o(t.attr("locked"),"locked")||o(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var n,s,r,l,c=this;if("select"===(n=i.element).get(0).tagName.toLowerCase()&&(this.select=s=i.element),s&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],(function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")})),i.debug=i.debug||t.fn.select2.defaults.debug,i.debug&&console&&console.warn&&(null!=i.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=i.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=i.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=i.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=i.ajax&&null!=i.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=i.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=i.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=i.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=i.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=i.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=i.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),i.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=i.element.data("tags")){var h=i.element.data("tags");t.isArray(h)||(h=[]),i.element.data("select2Tags",h)}if(null!=i.sorter&&(i.sortResults=i.sorter),null!=i.selectOnClose&&(i.selectOnBlur=i.selectOnClose),null!=i.ajax&&t.isFunction(i.ajax.processResults)&&(i.ajax.results=i.ajax.processResults),null!=i.language){var u=i.language;t.isFunction(u.noMatches)&&(i.formatNoMatches=u.noMatches),t.isFunction(u.searching)&&(i.formatSearching=u.searching),t.isFunction(u.inputTooShort)&&(i.formatInputTooShort=u.inputTooShort),t.isFunction(u.inputTooLong)&&(i.formatInputTooLong=u.inputTooLong),t.isFunction(u.loadingMore)&&(i.formatLoading=u.loadingMore),t.isFunction(u.maximumSelected)&&(i.formatSelectionTooBig=u.maximumSelected)}if("function"!=typeof(i=t.extend({},{populateResults:function(n,s,o){var a,r=this.opts.id,l=this.liveRegion;(a=function(n,s,h){var u,d,p,f,g,m,v,b,y,w,x=[];for(u=0,d=(n=i.sortResults(n,s,o)).length;d>u;u+=1)f=!(g=!0===(p=n[u]).disabled)&&r(p)!==e,m=p.children&&p.children.length>0,(v=t("<li></li>")).addClass("select2-results-dept-"+h),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(p)),v.attr("role","presentation"),(b=t(document.createElement("div"))).addClass("select2-result-label"),b.attr("id","select2-result-label-"+A()),b.attr("role","option"),(w=i.formatResult(p,b,o,c.opts.escapeMarkup))!==e&&(b.html(w),v.append(b)),m&&((y=t("<ul></ul>")).addClass("select2-result-sub"),a(p.children,y,h+1),v.append(y)),v.data("select2-data",p),x.push(v[0]);s.append(x),l.text(i.formatMatches(n.length))})(s,n,0)}},t.fn.select2.defaults,i)).id&&(r=i.id,i.id=function(t){return t[r]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(s?(i.query=this.bind((function(t){var i,s,o,a={results:[],more:!1},r=t.term;o=function(e,i){var n;e.is("option")?t.matcher(r,e.text(),e)&&i.push(c.optionToData(e)):e.is("optgroup")&&(n=c.optionToData(e),e.children().each2((function(t,e){o(e,n.children)})),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==e&&i.length>0&&((s=this.getPlaceholderOption())&&(i=i.not(s))),i.each2((function(t,e){o(e,a.results)})),t.callback(a)})),i.id=function(t){return t.id}):"query"in i||("ajax"in i?((l=i.element.data("ajax-url"))&&l.length>0&&(i.ajax.url=l),i.query=v.call(i.element,i.ajax)):"data"in i?i.query=b(i.data):"tags"in i&&(i.query=y(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),i.initSelection===e&&(i.initSelection=function(e,n){var s=[];t(a(e.val(),i.separator,i.transformVal)).each((function(){var e={id:this,text:this},n=i.tags;t.isFunction(n)&&(n=n()),t(n).each((function(){return o(this.id,e.id)?(e=this,!1):void 0})),s.push(e)})),n(s)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,s=this;n.on("change.select2",this.bind((function(t){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))),this._sync=this.bind((function(){var t=n.prop("disabled");t===e&&(t=!1),this.enable(!t);var i=n.prop("readonly");i===e&&(i=!1),this.readonly(i),this.container&&(f(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(x(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(f(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(this.opts.dropdownCssClass,this.opts.element)))})),n.length&&n[0].attachEvent&&n.each((function(){this.attachEvent("onpropertychange",s._sync)})),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i((function(e){t.each(e,s._sync)})),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,n,s,o,a=this.dropdown,r=this.container,l=r.offset(),c=r.outerHeight(!1),h=r.outerWidth(!1),u=a.outerHeight(!1),d=t(window),p=d.width(),f=d.height(),g=d.scrollLeft()+p,m=d.scrollTop()+f,v=l.top+c,b=l.left,y=m>=v+u,w=l.top-u>=d.scrollTop(),S=a.outerWidth(!1);a.hasClass("select2-drop-above")?(i=!0,!w&&y&&(n=!0,i=!1)):(i=!1,!y&&w&&(n=!0,i=!0)),n&&(a.hide(),l=this.container.offset(),c=this.container.outerHeight(!1),h=this.container.outerWidth(!1),u=a.outerHeight(!1),g=d.scrollLeft()+p,m=d.scrollTop()+f,v=l.top+c,b=l.left,S=a.outerWidth(!1),a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=t(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),(S=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:N.width))>h?h=S:S=h,u=a.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(v-=(e=this.body.offset()).top,b-=e.left),!(g>=b+S)&&l.left+g+r.outerWidth(!1)>S&&(b=l.left+this.container.outerWidth(!1)-S),s={left:b,width:h},i?(this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above"),u=a.outerHeight(!1),s.top=l.top-u,s.bottom="auto"):(s.top=v,s.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),s=t.extend(s,x(this.opts.dropdownCss,this.opts.element)),a.css(s)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),I.on("mousemove.select2Event",(function(t){M.x=t.pageX,M.y=t.pageY})),!0)},opening:function(){var e,n=this.containerEventName,s="scroll."+n,o="resize."+n,a="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0===(e=t("#select2-drop-mask")).length&&((e=t(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",(function(n){i(e);var s,o=t("#select2-drop");o.length>0&&((s=o.data("select2")).opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),n.preventDefault(),n.stopPropagation())}))),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each((function(){t(this).on(o+" "+s+" "+a,(function(t){r.opened()&&r.positionDropdown()}))}))},close:function(){if(this.opened()){var e=this.containerEventName,i="scroll."+e,n="resize."+e,s="orientationchange."+e;this.container.parents().add(window).each((function(){t(this).off(i).off(n).off(s)})),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),I.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var t=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return t!==e&&(this.search.val(t),this.search.select(),!0)},getMaximumSelectionSize:function(){return x(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,i,n,s,o,a,r,l,c=this.results;if(!(0>(i=this.highlight()))){if(0==i)return void c.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),s=(l=((n=t(e[i])).offset()||{}).top||0)+n.outerHeight(!0),i===e.length-1&&((r=c.find("li.select2-more-results")).length>0&&(s=r.offset().top+r.outerHeight(!0))),s>(o=c.offset().top+c.outerHeight(!1))&&c.scrollTop(c.scrollTop()+(s-o)),0>(a=l-c.offset().top)&&"none"!=n.css("display")&&c.scrollTop(c.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){var s=t(i[n+=e]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var i,n,o=this.findHighlightableChoices();return 0===arguments.length?s(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),0>e&&(e=0),this.removeHighlight(),(i=t(o[e])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),void((n=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,e=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,s=this.search.val(),o=this.context;0!==e.length&&(e.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(e.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:o,matcher:this.opts.matcher,callback:this.bind((function(a){n.opened()&&(n.opts.populateResults.call(this,t,a.results,{term:s,page:i,context:o}),n.postprocessResults(a,!1,!1),!0===a.more?(e.detach().appendTo(t).html(n.opts.escapeMarkup(x(n.opts.formatLoadMore,n.opts.element,i+1))),window.setTimeout((function(){n.loadMoreIfNeeded()}),10)):e.remove(),n.positionDropdown(),n.resultsPage=i,n.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))}))})))},tokenize:function(){},updateResults:function(i){function n(){c.removeClass("select2-active"),d.positionDropdown(),h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(h.text()):d.liveRegion.text(d.opts.formatMatches(h.find('.select2-result-selectable:not(".select2-selected")').length))}function s(t){h.html(t),n()}var a,r,l,c=this.search,h=this.results,u=this.opts,d=this,p=c.val(),f=t.data(this.container,"select2-last-term");if((!0===i||!f||!o(p,f))&&(t.data(this.container,"select2-last-term",p),!0===i||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(a=this.data(),t.isArray(a)&&a.length>=g&&w(u.formatSelectionTooBig,"formatSelectionTooBig")))return void s("<li class='select2-selection-limit'>"+x(u.formatSelectionTooBig,u.element,g)+"</li>");if(c.val().length<u.minimumInputLength)return s(w(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+x(u.formatInputTooShort,u.element,c.val(),u.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(u.maximumInputLength&&c.val().length>u.maximumInputLength)return void s(w(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+x(u.formatInputTooLong,u.element,c.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&s("<li class='select2-searching'>"+x(u.formatSearching,u.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),(r=this.tokenize())!=e&&null!=r&&c.val(r),this.resultsPage=1,u.query({element:u.element,term:c.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind((function(a){var r;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(a.hasError!==e&&w(u.formatAjaxError,"formatAjaxError"))return void s("<li class='select2-ajax-error'>"+x(u.formatAjaxError,u.element,a.jqXHR,a.textStatus,a.errorThrown)+"</li>");if(this.context=a.context===e?null:a.context,this.opts.createSearchChoice&&""!==c.val()&&((r=this.opts.createSearchChoice.call(d,c.val(),a.results))!==e&&null!==r&&d.id(r)!==e&&null!==d.id(r)&&0===t(a.results).filter((function(){return o(d.id(this),d.id(r))})).length&&this.opts.createSearchChoicePosition(a.results,r)),0===a.results.length&&w(u.formatNoMatches,"formatNoMatches"))return s("<li class='select2-no-results'>"+x(u.formatNoMatches,u.element,c.val())+"</li>"),void(this.showSearch&&this.showSearch(c.val()));h.empty(),d.opts.populateResults.call(this,h,a.results,{term:c.val(),page:this.resultsPage,context:null}),!0===a.more&&w(u.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+u.escapeMarkup(x(u.formatLoadMore,u.element,this.resultsPage))+"</li>"),window.setTimeout((function(){d.loadMoreIfNeeded()}),10)),this.postprocessResults(a,i),n(),this.opts.element.trigger({type:"select2-loaded",items:a})}}))})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(t){t[0]!==document.activeElement&&window.setTimeout((function(){var e,i=t[0],n=t.val().length;t.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&((e=i.createTextRange()).collapse(!1),e.select()))}),0)}(this.search)},selectHighlighted:function(t){if(this._touchMoved)this.clearTouchMoved();else{var e=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()}},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){var e=function(){var e,i,n,s,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if("string"==typeof(e=this.opts.element.attr("style")))for(s=0,o=(i=e.split(";")).length;o>s;s+=1)if(null!==(n=i[s].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&n.length>=1)return n[1];return"resolve"===this.opts.width?(e=this.opts.element.css("width")).indexOf("%")>0?e:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==e&&this.container.css("width",e)}}),E=T(k,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,i,n;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(e=this.search.get(0)).createTextRange?((i=e.createTextRange()).collapse(!1),i.select()):e.setSelectionRange&&(n=this.search.val().length,e.setSelectionRange(n,n))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"selection","focusser")},initContainer:function(){var e,n,s=this.container,o=this.dropdown,a=A();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),n=t("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind((function(){this.focus()}))),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind((function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode){if(t.which===P.PAGE_UP||t.which===P.PAGE_DOWN)return void d(t);switch(t.which){case P.UP:case P.DOWN:return this.moveHighlight(t.which===P.UP?-1:1),void d(t);case P.ENTER:return this.selectHighlighted(),void d(t);case P.TAB:return void this.selectHighlighted({noFocus:!0});case P.ESC:return this.cancel(t),void d(t)}}}))),this.search.on("blur",this.bind((function(t){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind((function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()})),0)}))),this.focusser.on("keydown",this.bind((function(t){if(this.isInterfaceEnabled()&&t.which!==P.TAB&&!P.isControl(t)&&!P.isFunctionKey(t)&&t.which!==P.ESC){if(!1===this.opts.openOnEnter&&t.which===P.ENTER)return void d(t);if(t.which==P.DOWN||t.which==P.UP||t.which==P.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void d(t)}return t.which==P.DELETE||t.which==P.BACKSPACE?(this.opts.allowClear&&this.clear(),void d(t)):void 0}}))),l(this.focusser),this.focusser.on("keyup-change input",this.bind((function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}}))),e.on("mousedown touchstart","abbr",this.bind((function(t){this.isInterfaceEnabled()&&(this.clear(),function(t){t.preventDefault(),t.stopImmediatePropagation()}(t),this.close(),this.selection&&this.selection.focus())}))),e.on("mousedown touchstart",this.bind((function(n){i(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),d(n)}))),o.on("mousedown touchstart",this.bind((function(){this.opts.shouldFocusInput(this)&&this.search.focus()}))),e.on("focus",this.bind((function(t){d(t)}))),this.focusser.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")}))).on("blur",this.bind((function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))}))),this.search.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")}))),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(e){var i=this.selection.data("select2-data");if(i){var n=t.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var s=this.getPlaceholderOption();this.opts.element.val(s?s.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,(function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder(),t.lastSearchTerm=t.search.val())}))}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==e&&((t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val())},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=t.find("option").filter((function(){return this.selected&&!this.disabled}));e(i.optionToData(n))}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var s=i.val(),a=null;e.query({matcher:function(t,i,n){var r=o(s,e.id(n));return r&&(a=n),r},callback:t.isFunction(n)?function(){n(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var n=0,s=this;if(this.findHighlightableChoices().each2((function(t,e){return o(s.id(e.data("select2-data")),s.opts.element.val())?(n=t,!1):void 0})),!1!==i&&(!0===e&&n>=0?this.highlight(n):this.highlight(0)),!0===e){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(S(t.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(i,this.id(t))||this.triggerChange({added:t,removed:n})}},updateSelection:function(t){var i,n,s=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),s.empty(),null!==t&&(i=this.opts.formatSelection(t,s,this.opts.escapeMarkup)),i!==e&&s.append(i),(n=this.opts.formatSelectionCssClass(t,s))!==e&&s.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,n=null,s=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(t).find("option").filter((function(){return this.selected})).each2((function(t,e){return n=s.optionToData(e),!1})),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:o});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,(function(t){s.opts.element.val(t?s.id(t):""),s.updateSelection(t),s.setPlaceholder(),i&&s.triggerChange({added:t,removed:o})}))}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,n=!1;return 0===arguments.length?((i=this.selection.data("select2-data"))==e&&(i=null),i):(this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),arguments.length>1&&(n=arguments[1]),void(t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n)))}}),O=T(k,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find("option").filter((function(){return this.selected&&!this.disabled})).each2((function(t,e){n.push(i.optionToData(e))})),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var s=a(i.val(),e.separator,e.transformVal),r=[];e.query({matcher:function(i,n,a){var l=t.grep(s,(function(t){return o(t,e.id(a))})).length;return l&&r.push(a),l},callback:t.isFunction(n)?function(){for(var t=[],i=0;i<s.length;i++)for(var a=s[i],l=0;l<r.length;l++){var c=r[l];if(o(a,e.id(c))){t.push(c),r.splice(l,1);break}}n(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"searchContainer","selection")},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var n=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",(function(e){n.search[0].focus(),n.selectChoice(t(this))})),this.search.attr("id","s2id_autogen"+A()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind((function(){this.focus()}))),this.search.on("input paste",this.bind((function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())}))),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind((function(t){if(this.isInterfaceEnabled()){++this.keydowns;var i=e.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),s=i.next(".select2-search-choice:not(.select2-locked)"),o=u(this.search);if(i.length&&(t.which==P.LEFT||t.which==P.RIGHT||t.which==P.BACKSPACE||t.which==P.DELETE||t.which==P.ENTER)){var a=i;return t.which==P.LEFT&&n.length?a=n:t.which==P.RIGHT?a=s.length?s:null:t.which===P.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),a=n.length?n:s):t.which==P.DELETE?this.unselect(i.first())&&(this.search.width(10),a=s.length?s:null):t.which==P.ENTER&&(a=null),this.selectChoice(a),d(t),void(a&&a.length||this.open())}if((t.which===P.BACKSPACE&&1==this.keydowns||t.which==P.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void d(t);if(this.selectChoice(null),this.opened())switch(t.which){case P.UP:case P.DOWN:return this.moveHighlight(t.which===P.UP?-1:1),void d(t);case P.ENTER:return this.selectHighlighted(),void d(t);case P.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case P.ESC:return this.cancel(t),void d(t)}if(t.which!==P.TAB&&!P.isControl(t)&&!P.isFunctionKey(t)&&t.which!==P.BACKSPACE&&t.which!==P.ESC){if(t.which===P.ENTER){if(!1===this.opts.openOnEnter)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===P.PAGE_UP||t.which===P.PAGE_DOWN)&&d(t),t.which===P.ENTER&&d(t)}}}))),this.search.on("keyup",this.bind((function(t){this.keydowns=0,this.resizeSearch()}))),this.search.on("blur",this.bind((function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))}))),this.container.on("click",i,this.bind((function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))}))),this.container.on("focus",i,this.bind((function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}))),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,(function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())}))}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i={},n=[],s=this;t(e).each((function(){s.id(this)in i||(i[s.id(this)]=0,n.push(this))})),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(n),s.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var i=this.getVal(),n=this;t(e).each((function(){i.push(n.createChoice(this))})),this.setVal(i)},createChoice:function(i){var n,s,o=!i.locked,a=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?a:r,c=this.id(i);return(n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup))!=e&&l.find("div").replaceWith(t("<div></div>").html(n)),(s=this.opts.formatSelectionCssClass(i,l.find("div")))!=e&&l.addClass(s),o&&l.find(".select2-search-choice-close").on("mousedown",d).on("click dblclick",this.bind((function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),d(e),this.close(),this.focusSearch())}))).on("focus",this.bind((function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}))),l.data("select2-data",i),l.insertBefore(this.searchContainer),c},unselect:function(e){var i,n,o=this.getVal();if(0===(e=e.closest(".select2-search-choice")).length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){var a=t.Event("select2-removing");if(a.val=this.id(i),a.choice=i,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(n=s(this.id(i),o))>=0;)o.splice(n,1),this.setVal(o),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(t,e,i){var n=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),r=this;o.each2((function(t,e){s(r.id(e.data("select2-data")),n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))})),a.each2((function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")})),-1==this.highlight()&&!1!==i&&!0===this.opts.closeOnSelect&&r.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&w(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+x(r.opts.formatNoMatches,r.opts.element,r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-r(this.search)},resizeSearch:function(){var t,e,i,n,s=r(this.search);t=p(this.search)+10,e=this.search.offset().left,t>(n=(i=this.selection.width())-(e-this.selection.offset().left)-s)&&(n=i-s),40>n&&(n=i-s),0>=n&&(n=t),this.search.width(Math.floor(n))},getVal:function(){var t;return this.select?null===(t=this.select.val())?[]:t:a(t=this.opts.element.val(),this.opts.separator,this.opts.transformVal)},setVal:function(e){if(this.select)this.select.val(e);else{var i=[],n={};t(e).each((function(){this in n||(i.push(this),n[this]=0)})),this.opts.element.val(0===i.length?"":i.join(this.opts.separator))}},buildChangeDetails:function(t,e){e=e.slice(0),t=t.slice(0);for(var i=0;i<e.length;i++)for(var n=0;n<t.length;n++)if(o(this.opts.id(e[i]),this.opts.id(t[n]))){e.splice(i,1),i--,t.splice(n,1);break}return{added:e,removed:t}},val:function(i,n){var s,o=this;if(0===arguments.length)return this.getVal();if((s=this.data()).length||(s=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:s}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(s,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,(function(e){var i=t.map(e,o.id);o.setVal(i),o.updateSelection(e),o.clearSearch(),n&&o.triggerChange(o.buildChangeDetails(s,o.data()))}))}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each((function(){e.push(i.opts.id(t(this).data("select2-data")))})),this.setVal(e),this.triggerChange()},data:function(e,i){var n,s,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map((function(){return t(this).data("select2-data")})).get():(s=this.data(),e||(e=[]),n=t.map(e,(function(t){return o.opts.id(t)})),this.setVal(n),this.updateSelection(e),this.clearSearch(),void(i&&this.triggerChange(this.buildChangeDetails(s,this.data()))))}}),t.fn.select2=function(){var i,n,o,a,r,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each((function(){if(0===l.length||"object"==typeof l[0])(i=0===l.length?{}:t.extend({},l[0])).element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.prop("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),(n=r?new window.Select2.class.multi:new window.Select2.class.single).init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(s(l[0],c)<0)throw"Unknown method: "+l[0];if(a=e,(n=t(this).data("select2"))===e)return;if("container"===(o=l[0])?a=n.container:"dropdown"===o?a=n.dropdown:(d[o]&&(o=d[o]),a=n[o].apply(n,l.slice(1))),s(l[0],h)>=0||s(l[0],u)>=0&&1==l.length)return!1}})),a===e?this:a},t.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var s=[];return g(this.text(t),i.term,s,n),s.join("")},transformVal:function(e){return t.trim(e)},formatSelection:function(t,i,n){return t?n(this.text(t)):e},sortResults:function(t,e,i){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(t,i){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},text:function(e){return e&&this.data&&this.data.text?t.isFunction(this.data.text)?this.data.text(e):e[this.data.text]:e.text},matcher:function(t,e){return n(""+e).toUpperCase().indexOf(n(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(t,i,n,s){var a,r,l,c,h,u=t,d=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return e;for(;;){for(r=-1,l=0,c=s.tokenSeparators.length;c>l&&(h=s.tokenSeparators[l],!((r=t.indexOf(h))>=0));l++);if(0>r)break;if(a=t.substring(0,r),t=t.substring(r+h.length),a.length>0&&((a=s.createSearchChoice.call(this,a,i))!==e&&null!==a&&s.id(a)!==e&&null!==s.id(a))){for(d=!1,l=0,c=i.length;c>l;l++)if(o(s.id(a),s.id(i[l]))){d=!0;break}d||n(a)}}return u!==t?t:void 0},escapeMarkup:m,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(t,i){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return!(("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&t.opts.minimumResultsForSearch<0)}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(t,e,i){return"Loading failed"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results"},formatSearching:function(){return"Searching"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:v,local:b,tags:y},util:{debounce:h,markMatch:g,escapeMarkup:m,stripDiacritics:n},class:{abstract:k,single:E,multi:O}}}}(s)},64:function(t,e,i){var n,s;n=[i(0),i(41)],void 0===(s=function(t,e){"use strict";return e.extend({name:"backdrop",trigger:".pat-backdrop",parser:"mockup",defaults:{zIndex:null,opacity:.8,className:"plone-backdrop",classActiveName:"plone-backdrop-active",closeOnEsc:!0,closeOnClick:!0},init:function(){var e=this;e.$backdrop=t("> ."+e.options.className,e.$el),0===e.$backdrop.size()&&(e.$backdrop=t("<div/>").hide().appendTo(e.$el).addClass(e.options.className),null!==e.options.zIndex&&e.$backdrop.css("z-index",e.options.zIndex)),!0===e.options.closeOnEsc&&t(document).on("keydown",(function(t,i){e.$el.is("."+e.options.classActiveName)&&27===t.keyCode&&e.hide()})),!0===e.options.closeOnClick&&e.$backdrop.on("click",(function(){e.$el.is("."+e.options.classActiveName)&&e.hide()}))},show:function(){this.$el.hasClass(this.options.classActiveName)||(this.emit("show"),this.$backdrop.css("opacity","0").show(),this.$el.addClass(this.options.classActiveName),this.$backdrop.animate({opacity:this.options.opacity},500),this.emit("shown"))},hide:function(){this.$el.hasClass(this.options.classActiveName)&&(this.emit("hide"),this.$backdrop.animate({opacity:"0"},500).hide(),this.$el.removeClass(this.options.classActiveName),this.emit("hidden"))}})}.apply(e,n))||(t.exports=s)},65:function(t,e,i){var n,s,o;!function(a){"use strict";s=[i(0)],void 0===(o="function"==typeof(n=function(t){var e={};e.fileapi=void 0!==t("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData;var i=!!t.fn.prop;function n(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(i))}function s(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var s=n.closest("[type=submit]");if(0===s.length)return;i=s[0]}var o=this;if(o.clk=i,"image"==i.type)if(void 0!==e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var a=n.offset();o.clk_x=e.pageX-a.left,o.clk_y=e.pageY-a.top}else o.clk_x=e.pageX-i.offsetLeft,o.clk_y=e.pageY-i.offsetTop;setTimeout((function(){o.clk=o.clk_x=o.clk_y=null}),100)}function o(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}t.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(n){if(!this.length)return o("ajaxSubmit: skipping submit process - no element selected"),this;var s,a,r,l=this;"function"==typeof n?n={success:n}:void 0===n&&(n={}),s=n.type||this.attr2("method"),(r=(r="string"==typeof(a=n.url||this.attr2("action"))?t.trim(a):"")||window.location.href||"")&&(r=(r.match(/^([^#]+)/)||[])[1]),n=t.extend(!0,{url:r,success:t.ajaxSettings.success,type:s||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},n);var c={};if(this.trigger("form-pre-serialize",[this,n,c]),c.veto)return o("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(n.beforeSerialize&&!1===n.beforeSerialize(this,n))return o("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=n.traditional;void 0===h&&(h=t.ajaxSettings.traditional);var u,d=[],p=this.formToArray(n.semantic,d);if(n.data&&(n.extraData=n.data,u=t.param(n.data,h)),n.beforeSubmit&&!1===n.beforeSubmit(p,this,n))return o("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[p,this,n,c]),c.veto)return o("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var f=t.param(p,h);u&&(f=f?f+"&"+u:u),"GET"==n.type.toUpperCase()?(n.url+=(n.url.indexOf("?")>=0?"&":"?")+f,n.data=null):n.data=f;var g=[];if(n.resetForm&&g.push((function(){l.resetForm()})),n.clearForm&&g.push((function(){l.clearForm(n.includeHidden)})),!n.dataType&&n.target){var m=n.success||function(){};g.push((function(e){var i=n.replaceTarget?"replaceWith":"html";t(n.target)[i](e).each(m,arguments)}))}else n.success&&g.push(n.success);if(n.success=function(t,e,i){for(var s=n.context||this,o=0,a=g.length;o<a;o++)g[o].apply(s,[t,e,i||l,l])},n.error){var v=n.error;n.error=function(t,e,i){var s=n.context||this;v.apply(s,[t,e,i,l])}}if(n.complete){var b=n.complete;n.complete=function(t,e){var i=n.context||this;b.apply(i,[t,e,l])}}var y=t("input[type=file]:enabled",this).filter((function(){return""!==t(this).val()})).length>0,w="multipart/form-data",x=l.attr("enctype")==w||l.attr("encoding")==w,S=e.fileapi&&e.formdata;o("fileAPI :"+S);var C,T=(y||x)&&!S;!1!==n.iframe&&(n.iframe||T)?n.closeKeepAlive?t.get(n.closeKeepAlive,(function(){C=E(p)})):C=E(p):C=(y||x)&&S?function(e){for(var i=new FormData,o=0;o<e.length;o++)i.append(e[o].name,e[o].value);if(n.extraData){var a=function(e){var i,s,o=t.param(e,n.traditional).split("&"),a=o.length,r=[];for(i=0;i<a;i++)o[i]=o[i].replace(/\+/g," "),s=o[i].split("="),r.push([decodeURIComponent(s[0]),decodeURIComponent(s[1])]);return r}(n.extraData);for(o=0;o<a.length;o++)a[o]&&i.append(a[o][0],a[o][1])}n.data=null;var r=t.extend(!0,{},t.ajaxSettings,n,{contentType:!1,processData:!1,cache:!1,type:s||"POST"});n.uploadProgress&&(r.xhr=function(){var e=t.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",(function(t){var e=0,i=t.loaded||t.position,s=t.total;t.lengthComputable&&(e=Math.ceil(i/s*100)),n.uploadProgress(t,i,s,e)}),!1),e});r.data=null;var l=r.beforeSend;return r.beforeSend=function(t,e){n.formData?e.data=n.formData:e.data=i,l&&l.call(this,t,e)},t.ajax(r)}(p):t.ajax(n),l.removeData("jqxhr").data("jqxhr",C);for(var k=0;k<d.length;k++)d[k]=null;return this.trigger("form-submit-notify",[this,n]),this;function E(e){var a,r,c,h,u,p,f,g,m,v,b,y,w=l[0],x=t.Deferred();if(x.abort=function(t){g.abort(t)},e)for(r=0;r<d.length;r++)a=t(d[r]),i?a.prop("disabled",!1):a.removeAttr("disabled");if((c=t.extend(!0,{},t.ajaxSettings,n)).context=c.context||c,u="jqFormIO"+(new Date).getTime(),c.iframeTarget?(v=(p=t(c.iframeTarget)).attr2("name"))?u=v:p.attr2("name",u):(p=t('<iframe name="'+u+'" src="'+c.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),f=p[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";o("aborting upload... "+i),this.aborted=1;try{f.contentWindow.document.execCommand&&f.contentWindow.document.execCommand("Stop")}catch(t){}p.attr("src",c.iframeSrc),g.error=i,c.error&&c.error.call(c.context,g,i,e),h&&t.event.trigger("ajaxError",[g,c,i]),c.complete&&c.complete.call(c.context,g,i)}},(h=c.global)&&0==t.active++&&t.event.trigger("ajaxStart"),h&&t.event.trigger("ajaxSend",[g,c]),c.beforeSend&&!1===c.beforeSend.call(c.context,g,c))return c.global&&t.active--,x.reject(),x;if(g.aborted)return x.reject(),x;(m=w.clk)&&(v=m.name)&&!m.disabled&&(c.extraData=c.extraData||{},c.extraData[v]=m.value,"image"==m.type&&(c.extraData[v+".x"]=w.clk_x,c.extraData[v+".y"]=w.clk_y));function S(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){o("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){o("cannot get iframe.contentDocument: "+i),e=t.document}return e}var C=t("meta[name=csrf-token]").attr("content"),T=t("meta[name=csrf-param]").attr("content");function k(){var e=l.attr2("target"),i=l.attr2("action"),n=l.attr("enctype")||l.attr("encoding")||"multipart/form-data";w.setAttribute("target",u),s&&!/post/i.test(s)||w.setAttribute("method","POST"),i!=c.url&&w.setAttribute("action",c.url),c.skipEncodingOverride||s&&!/post/i.test(s)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),c.timeout&&(y=setTimeout((function(){b=!0,I(1)}),c.timeout));var a=[];try{if(c.extraData)for(var r in c.extraData)c.extraData.hasOwnProperty(r)&&(t.isPlainObject(c.extraData[r])&&c.extraData[r].hasOwnProperty("name")&&c.extraData[r].hasOwnProperty("value")?a.push(t('<input type="hidden" name="'+c.extraData[r].name+'">').val(c.extraData[r].value).appendTo(w)[0]):a.push(t('<input type="hidden" name="'+r+'">').val(c.extraData[r]).appendTo(w)[0]));c.iframeTarget||p.appendTo("body"),f.attachEvent?f.attachEvent("onload",I):f.addEventListener("load",I,!1),setTimeout((function t(){try{var e=S(f).readyState;o("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(t){o("Server abort: ",t," (",t.name,")"),I(2),y&&clearTimeout(y),y=void 0}}),15);try{w.submit()}catch(t){document.createElement("form").submit.apply(w)}}finally{w.setAttribute("action",i),w.setAttribute("enctype",n),e?w.setAttribute("target",e):l.removeAttr("target"),t(a).remove()}}T&&C&&(c.extraData=c.extraData||{},c.extraData[T]=C),c.forceSync?k():setTimeout(k,10);var E,O,A,_=50;function I(e){if(!g.aborted&&!A){if((O=S(f))||(o("cannot access response document"),e=2),1===e&&g)return g.abort("timeout"),void x.reject(g,"timeout");if(2==e&&g)return g.abort("server abort"),void x.reject(g,"error","server abort");if(O&&O.location.href!=c.iframeSrc||b){f.detachEvent?f.detachEvent("onload",I):f.removeEventListener("load",I,!1);var i,n="success";try{if(b)throw"timeout";var s="xml"==c.dataType||O.XMLDocument||t.isXMLDoc(O);if(o("isXml="+s),!s&&window.opera&&(null===O.body||!O.body.innerHTML)&&--_)return o("requeing onLoad callback, DOM not available"),void setTimeout(I,250);var a=O.body?O.body:O.documentElement;g.responseText=a?a.innerHTML:null,g.responseXML=O.XMLDocument?O.XMLDocument:O,s&&(c.dataType="xml"),g.getResponseHeader=function(t){return{"content-type":c.dataType}[t.toLowerCase()]},a&&(g.status=Number(a.getAttribute("status"))||g.status,g.statusText=a.getAttribute("statusText")||g.statusText);var r=(c.dataType||"").toLowerCase(),l=/(json|script|text)/.test(r);if(l||c.textarea){var u=O.getElementsByTagName("textarea")[0];if(u)g.responseText=u.value,g.status=Number(u.getAttribute("status"))||g.status,g.statusText=u.getAttribute("statusText")||g.statusText;else if(l){var d=O.getElementsByTagName("pre")[0],m=O.getElementsByTagName("body")[0];d?g.responseText=d.textContent?d.textContent:d.innerText:m&&(g.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==r&&!g.responseXML&&g.responseText&&(g.responseXML=N(g.responseText));try{E=P(g,r,c)}catch(t){n="parsererror",g.error=i=t||n}}catch(t){o("error caught: ",t),n="error",g.error=i=t||n}g.aborted&&(o("upload aborted"),n=null),g.status&&(n=g.status>=200&&g.status<300||304===g.status?"success":"error"),"success"===n?(c.success&&c.success.call(c.context,E,"success",g),x.resolve(g.responseText,"success",g),h&&t.event.trigger("ajaxSuccess",[g,c])):n&&(void 0===i&&(i=g.statusText),c.error&&c.error.call(c.context,g,n,i),x.reject(g,"error",i),h&&t.event.trigger("ajaxError",[g,c,i])),h&&t.event.trigger("ajaxComplete",[g,c]),h&&!--t.active&&t.event.trigger("ajaxStop"),c.complete&&c.complete.call(c.context,g,n),A=!0,c.timeout&&clearTimeout(y),setTimeout((function(){c.iframeTarget?p.attr("src",c.iframeSrc):p.remove(),g.responseXML=null}),100)}}}var N=t.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},M=t.parseJSON||function(t){return window.eval("("+t+")")},P=function(e,i,n){var s=e.getResponseHeader("content-type")||"",o="xml"===i||!i&&s.indexOf("xml")>=0,a=o?e.responseXML:e.responseText;return o&&"parsererror"===a.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(a=n.dataFilter(a,i)),"string"==typeof a&&("json"===i||!i&&s.indexOf("json")>=0?a=M(a):("script"===i||!i&&s.indexOf("javascript")>=0)&&t.globalEval(a)),a};return x}},t.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&t.isFunction(t.fn.on),!e.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!t.isReady&&i.s?(o("DOM not ready, queuing ajaxForm"),t((function(){t(i.s,i.c).ajaxForm(e)})),this):(o("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return e.delegation?(t(document).off("submit.form-plugin",this.selector,n).off("click.form-plugin",this.selector,s).on("submit.form-plugin",this.selector,e,n).on("click.form-plugin",this.selector,e,s),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,n).bind("click.form-plugin",e,s)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(i,n){var s=[];if(0===this.length)return s;var o,a,r,l,c,h,u,d,p=this[0],f=this.attr("id"),g=i?p.getElementsByTagName("*"):p.elements;if(g&&!/MSIE [678]/.test(navigator.userAgent)&&(g=t(g).get()),f&&(o=t(':input[form="'+f+'"]').get()).length&&(g=(g||[]).concat(o)),!g||!g.length)return s;for(a=0,u=g.length;a<u;a++)if((l=(h=g[a]).name)&&!h.disabled)if(i&&p.clk&&"image"==h.type)p.clk==h&&(s.push({name:l,value:t(h).val(),type:h.type}),s.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}));else if((c=t.fieldValue(h,!0))&&c.constructor==Array)for(n&&n.push(h),r=0,d=c.length;r<d;r++)s.push({name:l,value:c[r]});else if(e.fileapi&&"file"==h.type){n&&n.push(h);var m=h.files;if(m.length)for(r=0;r<m.length;r++)s.push({name:l,value:m[r],type:h.type});else s.push({name:l,value:"",type:h.type})}else null!=c&&(n&&n.push(h),s.push({name:l,value:c,type:h.type,required:h.required}));if(!i&&p.clk){var v=t(p.clk),b=v[0];(l=b.name)&&!b.disabled&&"image"==b.type&&(s.push({name:l,value:v.val()}),s.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}))}return s},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each((function(){var n=this.name;if(n){var s=t.fieldValue(this,e);if(s&&s.constructor==Array)for(var o=0,a=s.length;o<a;o++)i.push({name:n,value:s[o]});else null!=s&&i.push({name:this.name,value:s})}})),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,s=this.length;n<s;n++){var o=this[n],a=t.fieldValue(o,e);null==a||a.constructor==Array&&!a.length||(a.constructor==Array?t.merge(i,a):i.push(a))}return i},t.fieldValue=function(e,i){var n=e.name,s=e.type,o=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==s||"button"==s||("checkbox"==s||"radio"==s)&&!e.checked||("submit"==s||"image"==s)&&e.form&&e.form.clk!=e||"select"==o&&-1==e.selectedIndex))return null;if("select"==o){var a=e.selectedIndex;if(a<0)return null;for(var r=[],l=e.options,c="select-one"==s,h=c?a+1:l.length,u=c?a:0;u<h;u++){var d=l[u];if(d.selected){var p=d.value;if(p||(p=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return p;r.push(p)}}return r}return t(e).val()},t.fn.clearForm=function(e){return this.each((function(){t("input,select,textarea",this).clearFields(e)}))},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var n=this.type,s=this.tagName.toLowerCase();i.test(n)||"textarea"==s?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==s?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")}))},t.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each((function(){this.disabled=!t}))},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each((function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}}))},t.fn.ajaxSubmit.debug=!1})?n.apply(e,s):n)||(t.exports=o)}()},88:function(t,e,i){var n,s;n=[i(0)],void 0===(s=function(t){"use strict";return{getOptions:function e(i,n,s){s=s||{},0===i.length||t.nodeName(i[0],"body")||(s=e(i.parent(),n,s));var o={};if(0!==i.length&&(o=i.data("pat-"+n))&&"string"==typeof o){var a={};t.each(o.split(";"),(function(t,e){(e=e.split(":")).reverse();var i=e.pop();i=i.replace(/^\s+|\s+$/g,""),e.reverse();var n=e.join(":");n=n.replace(/^\s+|\s+$/g,""),a[i]=n})),o=a}return t.extend(!0,{},s,o)}}}.apply(e,n))||(t.exports=s)},91:function(t,e,i){var n,s;n=[i(1),i(46)],void 0===(s=function(t,e){"use strict";var i=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};return new(e.Router.extend({actions:[],redirects:{},addRoute:function(e,n,s,o,a,r){void 0===t.findWhere(this.patterns,{patternName:e,id:n})&&this.actions.push({patternName:e,id:n,callback:s,context:o,pathExp:a,expReplace:r});var l=new RegExp("("+i(e)+":"+i(n)+")");this.route(l,"handleRoute")},addRedirect:function(t,e){this.redirects[t]=e},handleRoute:function(e){var i=e.split(":"),n=i[0],s=i[1],o=t.findWhere(this.actions,{patternName:n,id:s});o&&o.callback.call(o.context)},redirect:function(){var e,i,n,s=window.parent.location.pathname;if(t.some(this.actions,(function(t){if(t.pathExp&&(i=new RegExp(t.pathExp),s.match(i))){n="!/"+t.patternName+":"+t.id;var o="";return t.expReplace&&(o=t.expReplace),e=s.replace(i,o),!0}}),this),void 0===n)for(var o in this.redirects)if(i=new RegExp(o),s.match(i)){n="!/"+this.redirects[o],e=s.replace(i,"");break}void 0!==n&&this._changeLocation.apply(this,[e,n])},_changeLocation:function(t,e){window.parent.location.hash=e,window.parent.location.pathname=t},start:function(){e.history.start()},reset:function(){this.actions=[]}}))}.apply(e,n))||(t.exports=s)}}]);