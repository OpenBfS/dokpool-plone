(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[16],{

/***/ "./.plone/++resource++mockup/relateditems/upload.js":
/*!**********************************************************!*\
  !*** ./.plone/++resource++mockup/relateditems/upload.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(/*! underscore */ \"./.plone/++plone++static/components/underscore/underscore.js\"),\n  __webpack_require__(/*! mockup-ui-url/views/popover */ \"./.plone/++resource++mockupjs/ui/views/popover.js\"),\n  __webpack_require__(/*! mockup-patterns-upload */ \"./.plone/++resource++mockup/upload/pattern.js\"),\n  __webpack_require__(/*! mockup-utils */ \"./.plone/++resource++mockupjs/utils.js\"),\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function(_, PopoverView, Upload, utils) {\n  'use strict';\n\n  var UploadView = PopoverView.extend({\n    className: 'popover upload',\n    title: _.template('<%- _t(\"Upload files\") %>'),\n    content: _.template(\n      '<input type=\"text\" name=\"upload\" style=\"display:none\" />' +\n      '<div class=\"uploadify-me\"></div>'),\n\n    popover: undefined,\n\n    initialize: function(options) {\n      var self = this;\n      self.app = options.app;\n      PopoverView.prototype.initialize.apply(self, [options]);\n    },\n\n    render: function() {\n      var self = this;\n      self.popover = PopoverView.prototype.render.call(this);\n      var options = {};\n      options.success = function(e, response) {\n        var uid = response.UID;\n        if (uid) {\n          var query = new utils.QueryHelper({\n            vocabularyUrl: self.app.options.vocabularyUrl,\n            attributes: self.app.options.attributes\n          });\n          var result = query.search(\n              'UID',\n              'plone.app.querystring.operation.selection.is',\n              uid,\n              function (e) {\n                var data = self.app.$el.select2('data');\n                data.push.apply(data, e.results);\n                self.app.$el.select2('data', data, true);\n                self.app.emit('selected');\n                self.popover.hide();\n              },\n              false\n          );\n        }\n        // getIcon, getURL, portal_type, review_state, Title, path\n        // var itemHtml = self.applyTemplate('selection', item);\n      };\n      options.uploadMultiple = true;\n      options.allowPathSelection = false;\n      options.relativePath = 'fileUpload';\n      options.baseUrl = self.app.options.rootUrl;\n      self.upload = new Upload(self.$('.uploadify-me').addClass('pat-upload'), options);\n      return this;\n    },\n\n    toggle: function(button, e) {\n      /* we need to be able to change the current default upload directory */\n      PopoverView.prototype.toggle.apply(this, [button, e]);\n      var self = this;\n      if (!this.opened) {\n        return;\n      }\n      if (self.app.currentPath !== self.upload.currentPath) {\n        self.upload.setPath(self.app.currentPath);\n      }\n    }\n\n  });\n\n  return UploadView;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n\n//# sourceURL=webpack:///./.plone/++resource++mockup/relateditems/upload.js?");

/***/ })

}]);